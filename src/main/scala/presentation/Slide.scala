package com.github.morotsman
package presentation

import cats.effect.Sync

trait Slide[F[_]] {
  def show(): F[Unit]
  def userInput(input: Input): F[Unit]
}

case class Start[F[_] : Sync](console: NConsole[F]) extends Slide[F] {
  override def show(): F[Unit] = {
    val text =
      """
        |
        |
        |
        |
        |
        |
        |
        |
        |
        |                     _______ _________ _______  _______          __________________   ______   _______  _______  _______  _        _______  _______
        |                    (  ____ \\__   __/(  ____ )(  ____ \|\     /|\__   __/\__   __/  (  ___ \ (  ____ )(  ____ \(  ___  )| \    /\(  ____ \(  ____ )
        |                    | (    \/   ) (   | (    )|| (    \/| )   ( |   ) (      ) (     | (   ) )| (    )|| (    \/| (   ) ||  \  / /| (    \/| (    )|
        |                    | |         | |   | (____)|| |      | |   | |   | |      | |     | (__/ / | (____)|| (__    | (___) ||  (_/ / | (__    | (____)|
        |                    | |         | |   |     __)| |      | |   | |   | |      | |     |  __ (  |     __)|  __)   |  ___  ||   _ (  |  __)   |     __)
        |                    | |         | |   | (\ (   | |      | |   | |   | |      | |     | (  \ \ | (\ (   | (      | (   ) ||  ( \ \ | (      | (\ (
        |                    | (____/\___) (___| ) \ \__| (____/\| (___) |___) (___   | |     | )___) )| ) \ \__| (____/\| )   ( ||  /  \ \| (____/\| ) \ \__
        |                    (_______/\_______/|/   \__/(_______/(_______)\_______/   )_(     |/ \___/ |/   \__/(_______/|/     \||_/    \/(_______/|/   \__/
        |
        |
        |"""
    console.writeString(text.stripMargin)
  }

  override def userInput(input: Input): F[Unit] = Sync[F].unit
}

case class Agenda[F[_] : Sync](console: NConsole[F]) extends Slide[F] {
  override def show(): F[Unit] =
    console.writeString("""
                          |                               _
                          |     /\                       | |
                          |    /  \   __ _  ___ _ __   __| | __ _
                          |   / /\ \ / _` |/ _ \ '_ \ / _` |/ _` |
                          |  / ____ \ (_| |  __/ | | | (_| | (_| |
                          | /_/    \_\__, |\___|_| |_|\__,_|\__,_|
                          |           __/ |
                          |          |___/_  __       _   _            _   _
                          |             |  \/  |     | | (_)          | | (_)
                          |     ______  | \  / | ___ | |_ ___   ____ _| |_ _  ___  _ __
                          |    |______| | |\/| |/ _ \| __| \ \ / / _` | __| |/ _ \| '_ \
                          |             | |  | | (_) | |_| |\ V / (_| | |_| | (_) | | | |
                          |             |_|__|_|\___/ \__|_| \_/ \__,_|\__|_|\___/|_| |_|
                          |             |__   __| |                      | | | |
                          |     ______     | |  | |__   ___   _ __   __ _| |_| |_ ___ _ __ _ __
                          |    |______|    | |  | '_ \ / _ \ | '_ \ / _` | __| __/ _ \ '__| '_ \
                          |                | |  | | | |  __/ | |_) | (_| | |_| ||  __/ |  | | | |
                          |              __|_|  |_| |_|\___| | .__/ \__,_|\__|\__\___|_|  |_| |_|
                          |             |  __ \              | |
                          |     ______  | |  | | ___ _ __ ___|_|___
                          |    |______| | |  | |/ _ \ '_ ` _ \ / _ \
                          |             | |__| |  __/ | | | | | (_) |
                          |             |_____/ \___|_| |_| |_|\___/        _
                          |              / ____|               | |         (_)
                          |     ______  | |     ___  _ __   ___| |_   _ ___ _  ___  _ __
                          |    |______| | |    / _ \| '_ \ / __| | | | / __| |/ _ \| '_ \
                          |             | |___| (_) | | | | (__| | |_| \__ \ | (_) | | | |
                          |              \_____\___/|_| |_|\___|_|\__,_|___/_|\___/|_| |_|
                          |
                          |
                          |""".stripMargin)

  override def userInput(input: Input): F[Unit] = Sync[F].unit
}

case class StaticViewCircuitBreaker[F[_] : Sync](console: NConsole[F]) extends Slide[F] {
  override def show(): F[Unit] = {
    val stateMachine =
      """
        |           __   Success                                                                                   __  call / raise circuit open
        |        _ / /__ ___ ___ ___ ___ _                                                                      _ / /__ ___ ___ ___ ___ _
        |       | < <___|___|___|___|___| |                                                                    | < <___|___|___|___|___| |
        |       | |\_\                  | |                                                                    | |\_\                  | |
        |       | |                     | |                                                                    | |                     | |
        |       | |                     | |                                                                    | |                     | |
        |  ___ _|_|___ ___ ___ ___ ___ _|_|___ ___           fail (threshold reached)               __    ___ _|_|___ ___ ___ ___ ___ _|_|___ ___
        | |___|___|___|___|___|___|___|___|___|___|      ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___\ \  |___|___|___|___|___|___|___|___|___|___|
        | |_|     ___ _    ___  ___ ___ ___     |_|      ___|___|___|___|___|___|___|___|___|___|___ > > |_|         ___  ___ ___ _  _         |_|
        | | |    / __| |  / _ \/ __| __|   \    | |     __                                          /_/  | |        / _ \| _ \ __| \| |        | |
        | | |   | (__| |_| (_) \__ \ _|| |) |   | |    / /___ ___ _                                      | |       | (_) |  _/ _|| .` |        | |
        | | |    \___|____\___/|___/___|___/    | |   < < ___|___| |                                     | |        \___/|_| |___|_|\_|        | |
        | |_|_ ___ ___ ___ ___ ___ ___ ___ ___ _|_|    \_\       | |                                     |_|_ ___ ___ ___ ___ ___ ___ ___ ___ _|_|
        | |___|___|___|___|___|___|___|___|___|___|              | |                                     |___|___|___|___|___|___|___|___|___|___|
        |     | |                     | |                        | |
        |     | | __                  | |                        | |                                         / \                 reset timeout
        |     | |/ /__ ___ ___ ___ ___| |                        | |                                        /| |\                    | |
        |     |_< <___|___|___|___|___|_|                        | |                                         | |                     | |
        |        \_\                                             | |                                         | |                     | |
        |           fail (under threshold)                       | |                                         |_|                     |_|
        |                                                        | |                                         | |                     | |
        |                                                        | |                                         | |                     | |
        |                                                        | |                                         | |                    \|_|/
        |                                                        | |                                        fail                     \ /
        |                                                        | |                            ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___
        |                                                        | |                           |___|___|___|___|___|___|___|___|___|___|___|___|___|
        |                                                        | |___ ___ ___ ___ ___ ___    |_|   _  _   _   _    ___    ___  ___ ___ _  _    |_|
        |                                                        |_ ___|___|___|___|___|___|   | |  | || | /_\ | |  | __|  / _ \| _ \ __| \| |   | |
        |                                                               Success                | |  | __ |/ _ \| |__| _|  | (_) |  _/ _|| .` |   | |
        |                                                                                      | |  |_||_/_/ \_\____|_|    \___/|_| |___|_|\_|   | |
        |                                                                                      |_|_ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ _|_|
        |                                                                                      |___|___|___|___|___|___|___|___|___|___|___|___|___|
        |
        |
        |""".stripMargin
    console.writeString(stateMachine)
  }

  override def userInput(input: Input): F[Unit] = Sync[F].unit
}